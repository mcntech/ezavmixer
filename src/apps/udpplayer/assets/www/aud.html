<!DOCTYPE html>
<html>
<head>

<script>
function resizeDrawingArea()
{
   var canvas = document.getElementById( 'fft' )
        canvas.height=window.innerHeight*220/480;
        canvas.width=window.innerWidth*360/360;
 }

  function drawSpectrum() {
     var canvasEl = document.getElementById( 'fft' )
     var spectrum = Array.from({length: 48}, () => Math.random());

     ctx     = canvasEl.getContext( '2d' ),
      h       = canvasEl.height,
      w       = canvasEl.width,

      spacing = w / spectrum.length,
      width   = spacing * 2 / 3,
      height  = h * 1/ 3;
      count =  512;
      ctx.clearRect( 0, 0, w, h );
      for ( var i = 0, l = spectrum.length; i < l && i < count; i++ ) {
        ctx.fillRect( i * spacing, h, width, -spectrum[ i ] * height / 2 );
      }

      for ( var i = 0, l = spectrum.length; i < l && i < count; i++ ) {
        ctx.fillRect( i * spacing, h/2, width, -spectrum[ i ] * height / 2 );
      }

      setTimeout(drawSpectrum, 60);
   }
</script>
</head>
<body onload = "resizeDrawingArea(); drawSpectrum()">

<p>Audio</p>
<canvas id="fft" height="400" width="512"></canvas>

<srcipt>

</srcipt>
</body>
</html>